<div class="container">
  <div class="fixedElement">
    <section class="control-section">
      <h3>Filter Type: </h3>
      <mat-button-toggle-group [(ngModel)]="filterType">
        <mat-button-toggle value="all">All</mat-button-toggle>
        <mat-button-toggle [value]="boardgameType.Euro">Euro</mat-button-toggle>
        <mat-button-toggle [value]="boardgameType.Party">Party</mat-button-toggle>
        <mat-button-toggle [value]="boardgameType.Amero">Amero</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="control-section">
      <h3>Sort Direction: </h3>
      <mat-button-toggle-group [(ngModel)]="sortDirection">
        <mat-button-toggle value="asc">Ascending</mat-button-toggle>
        <mat-button-toggle value="desc">Descending</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="control-section">
      <h3>Sort Type: </h3>
      <mat-button-toggle-group [(ngModel)]="sortType">
        <mat-button-toggle value="none">None</mat-button-toggle>
        <mat-button-toggle value="name">Name</mat-button-toggle>
        <mat-button-toggle value="date">Date</mat-button-toggle>
        <mat-button-toggle value="playTime">Play Time</mat-button-toggle>
      </mat-button-toggle-group>
    </section>

    <section class="control-section">
      <h3>Search: </h3>
      <mat-form-field appearance="fill">
        <input matInput placeholder="Search by name" [(ngModel)]="searchRequest">
      </mat-form-field>
    </section>

    <section class="control-section">
      <h3>Displayed Items: {{displayedItems}}</h3>
    </section>
  </div>

  <div class="cards" >
    <app-game-card
    *ngFor="let game of boardgames | sort: sortType: sortDirection | filter: filterType | search: searchRequest"
    [game] = "game"
    [isUserLoggedIn] = "!!loggedInUser"
    ></app-game-card>
    <div class="placeholder" *ngIf="!displayedItems && loggedInUser">There are no items</div>
    <div class="placeholder" *ngIf="!displayedItems && !loggedInUser">Log in to view games</div>
  </div>

  <div class="actions">
    <section class="fixedElement" *ngIf="loggedInUser">
      <button mat-raised-button color="primary" (click)="addGame()">Add New Game</button>
      <a mat-raised-button color="primary" [href]="gameServ.getGamesExportLink()" download="boardgames.json">Export Games</a>
    </section>
    <section *ngIf="loggedInUser">
      <app-file-uploader></app-file-uploader>
    </section>
  </div>

</div>
